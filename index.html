<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="msvalidate.01" content="EFC61E5D106220023439CAF98B06427F" />

  <title>ScannerX — محول صور إلى PDF وأدوات PDF متكاملة مجانية</title>
  <meta name="description" content="ScannerX: محول صور إلى PDF مجاني وسريع يعمل من المتصفح — دمج صور، إضافة علامة مائية، تقسيم PDF وتحويل PDF إلى صور. آمن وبدون رفع للسيرفر." />
  <meta name="keywords" content="محول صور إلى PDF, صوره إلى pdf, دمج صور في PDF, تحويل صور, PDF إلى صورة, علامة مائية PDF, أدوات PDF مجانية" />
  <link rel="icon" href="images/icon-192x192.png" />

  <!-- CSS أساسي -->
  <link rel="stylesheet" href="css/style.css">

  <!-- JSON-LD (SEO) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "ScannerX",
    "url": "https://image-to-pdf-scanner.vercel.app/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://image-to-pdf-scanner.vercel.app/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- تحميل خفيف للـfont-awesome (إذا تحتاج أيقونات) -->
  <script defer src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <style>
    /* قواعد بسيطة مؤقتة لتجنب كسر الواجهة لو ما كانش عندك css مكتمل بعد */
    :root{--primary:#0b5ed7;--success:#198754;--error:#dc3545}
    body{font-family: "Noto Sans Arabic", "Arial", sans-serif; margin:0; background:#f8fafb; color:#222}
    .container{max-width:1100px;margin:0 auto;padding:16px}
    header.header{background:#fff;padding:12px 0;border-bottom:1px solid #eee}
    nav.main-nav ul{list-style:none;padding:0;margin:0;display:flex;gap:10px;flex-wrap:wrap}
    nav.main-nav a{text-decoration:none;color:inherit;padding:6px 10px;border-radius:6px}
    .converter-card{background:#fff;padding:16px;border-radius:10px;box-shadow:0 1px 6px rgba(0,0,0,0.05);margin-bottom:16px}
    .action-buttons{display:flex;gap:8px;flex-wrap:wrap}
    .btn{padding:8px 12px;border:none;border-radius:8px;cursor:pointer}
    .btn-primary{background:var(--primary);color:#fff}
    .btn-success{background:var(--success);color:#fff}
    .btn-error{background:var(--error);color:#fff}
    .hidden{display:none}
    .loading-bar{position:fixed;left:0;top:0;height:3px;background:#0b5ed7;width:0;transition:width .25s ease;display:none;z-index:9999}
    footer.footer{padding:16px;text-align:center;color:#666;font-size:14px}
    .seo-content{background:#fff;padding:16px;border-radius:10px;box-shadow:0 1px 6px rgba(0,0,0,0.04);margin-top:12px}
  </style>
</head>
<body>
  <div class="loading-bar" id="loadingBar"></div>

  <header class="header">
    <div class="container">
      <h1>ScannerX - أدوات PDF متكاملة</h1>
      <nav class="main-nav" aria-label="القائمة الرئيسية">
        <ul>
          <li><a href="index.html">الرئيسية</a></li>
          <li><a href="about.html">عن الموقع</a></li>
          <li><a href="privacy.html">سياسة الخصوصية</a></li>
          <li><a href="terms.html">الشروط</a></li>
          <li><a href="contact.html">اتصل بنا</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container" id="mainContent">
    <nav class="tool-nav" aria-label="أدوات الموقع">
      <div class="container">
        <ul style="display:flex;gap:10px;flex-wrap:wrap;list-style:none;padding:0;margin:12px 0 24px 0">
          <li><a href="#converter-section">صورة إلى PDF</a></li>
          <li><a href="#watermark-section">علامة مائية</a></li>
          <li><a href="#pdf-to-image-section">PDF إلى صورة</a></li>
          <li><a href="#split-pdf-section">تقسيم PDF</a></li>
        </ul>
      </div>
    </nav>

    <section class="converter-section" id="converter-section">
      <div class="converter-card">
        <h2>صور (JPEG/PNG) إلى ملف PDF</h2>
        <div class="action-buttons">
          <button class="btn btn-primary" id="galleryBtn"><i class="fas fa-images"></i> اختيار من المعرض</button>
          <button class="btn btn-primary" id="cameraBtn"><i class="fas fa-camera"></i> التقاط صورة</button>
        </div>

        <input type="file" id="imageInput" accept="image/*" multiple hidden>

        <div class="upload-section" style="margin-top:12px">
          <div class="upload-box" id="uploadBox" style="border:2px dashed #e6eefc;padding:20px;border-radius:8px;text-align:center">
            <i class="fas fa-cloud-upload-alt" style="font-size:28px;color:#0b5ed7"></i>
            <p>أو اسحب وأفلت صورك هنا</p>
          </div>
        </div>

        <div class="preview-section hidden" id="previewSection" style="margin-top:12px">
          <h3>معاينة الصورة:</h3>
          <div class="preview-container">
            <img id="previewImage" alt="Preview" style="max-width:100%;height:auto;border-radius:6px">
          </div>
          <div style="margin-top:8px" class="action-buttons">
            <button class="btn" id="rotateBtn"><i class="fas fa-redo"></i> تدوير (90°)</button>
            <button class="btn btn-success" id="convertBtn"><i class="fas fa-file-pdf"></i> تحويل إلى PDF (صورة واحدة)</button>
          </div>
        </div>

        <div class="selected-images hidden" id="selectedImagesSection" style="margin-top:12px">
          <h3>الصور المحددة (<span id="imagesCount">0</span>)</h3>
          <div class="images-grid" id="imagesGrid" style="display:flex;gap:8px;flex-wrap:wrap"></div>
          <div class="action-buttons" style="margin-top:8px">
            <button class="btn btn-success" id="convertAllBtn"><i class="fas fa-file-pdf"></i> تحويل الكل إلى ملف PDF واحد</button>
            <button class="btn btn-error" id="removeAllBtn"><i class="fas fa-trash-alt"></i> مسح الكل</button>
          </div>
        </div>
      </div>

      <div class="seo-content">
        <h2>أفضل محول صور إلى PDF مجاني وآمن (ScannerX)</h2>
        <p>ScannerX يقدّم تحويلًا سريعًا وآمنًا من جانب العميل — لا رفع للصور إلى خوادمنا، مناسب للوثائق الحساسة.</p>
        <h3>لماذا ScannerX؟</h3>
        <ul>
          <li>الخصوصية: كل المعالجة على جهاز المستخدم.</li>
          <li>سهولة الاستخدام: اختيار متعدد، ترتيب، وتدوير قبل التحويل.</li>
          <li>ميزات إضافية: إضافة علامة مائية، تقسيم PDF، واستخراج صفحات كصور.</li>
        </ul>
      </div>
    </section>

    <section class="converter-section" id="watermark-section" style="margin-top:18px">
      <div class="converter-card">
        <h2>إضافة علامة مائية (Watermark) لملف PDF</h2>
        <p>أضف نصًا مخصصًا كعلامة مائية (يدعم العربية) — تتم المعالجة محليًا على جهازك.</p>
        <div class="action-buttons" style="margin-top:8px">
          <input type="file" id="watermarkPdfInput" accept="application/pdf" hidden>
          <button class="btn btn-primary" onclick="document.getElementById('watermarkPdfInput').click()"><i class="fas fa-file-upload"></i> اختر ملف PDF</button>
        </div>
        <div class="form-group" style="margin-top:12px">
          <label for="watermarkTextInput">نص العلامة المائية (يدعم العربية):</label>
          <input type="text" id="watermarkTextInput" placeholder="أدخل النص هنا (مثال: سري، مسودة، اسم الشركة)" class="text-input" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ddd">
        </div>
        <div style="margin-top:10px" class="action-buttons">
          <button class="btn btn-success" id="addWatermarkBtn" disabled><i class="fas fa-stamp"></i> أضف العلامة المائية</button>
        </div>
      </div>
    </section>

    <section class="converter-section" id="pdf-to-image-section" style="margin-top:18px">
      <div class="converter-card">
        <h2>محول PDF إلى صورة</h2>
        <p>حول صفحات ملف PDF إلى صور (JPEG/PNG) عالية الجودة.</p>
        <div class="action-buttons" style="margin-top:8px">
          <input type="file" id="pdfInput" accept="application/pdf" hidden>
          <button class="btn btn-primary" onclick="document.getElementById('pdfInput').click()"><i class="fas fa-file-image"></i> اختر ملف PDF</button>
        </div>
        <div style="margin-top:10px">
          <button class="btn btn-success" id="convertPdfToImageBtn" disabled><i class="fas fa-download"></i> تحويل وحفظ كملف مضغوط</button>
        </div>
      </div>
    </section>

    <section class="converter-section" id="split-pdf-section" style="margin-top:18px">
      <div class="converter-card">
        <h2>تقسيم ملفات PDF</h2>
        <p>استخرج صفحات محددة أو نطاقات من الصفحات لإنشاء ملف PDF جديد.</p>
        <div class="action-buttons" style="margin-top:8px">
          <input type="file" id="splitPdfInput" accept="application/pdf" hidden>
          <button class="btn btn-primary" onclick="document.getElementById('splitPdfInput').click()"><i class="fas fa-cut"></i> اختر ملف PDF</button>
        </div>
        <div class="form-group" style="margin-top:12px">
          <label for="splitRangeInput">نطاق الصفحات:</label>
          <input type="text" id="splitRangeInput" placeholder="مثال: 1-5, 8, 10-12" class="text-input" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ddd">
        </div>
        <div style="margin-top:10px">
          <button class="btn btn-success" id="splitPdfBtn" disabled><i class="fas fa-compress-arrows-alt"></i> تقسيم ملف PDF</button>
        </div>
      </div>
    </section>

    <section class="description-section" id="description-section" style="margin-top:18px">
      <h2>أهمية أدوات PDF المجانية عبر الإنترنت</h2>
      <p>في عصر التحول الرقمي، صيغة PDF أصبحت معيارًا لتبادل المعلومات بشكل ثابت وموثوق.</p>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 ScannerX. جميع الحقوق محفوظة.</p>
      <div class="legal-links"><a href="privacy.html">سياسة الخصوصية</a> | <a href="terms.html">شروط الاستخدام</a></div>
    </div>
  </footer>

  <!-- مكتبات (وضعتها قبل نهاية الـbody لتسريع تحميل المحتوى) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    // pdf.js worker
    if (window.pdfjsLib) {
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    }
  </script>

  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
  <script defer src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
  <script defer src="https://unpkg.com/fontkit@1.1.1/dist/fontkit.umd.js"></script>

  <!-- تسجيل fontkit مع PDFLib بعد تحميلهما -->
  <script>
    window.addEventListener('load', () => {
      try {
        if (window.PDFLib && window.fontkit) {
          PDFLib.PDFDocument.registerFontkit(window.fontkit || fontkit);
          console.log('fontkit registered with PDFLib');
        } else {
          console.warn('PDFLib or fontkit not found on window; some PDF features may not work.');
        }
      } catch (e) {
        console.error('Error registering fontkit:', e);
      }
    });
  </script>

  <!-- ملفات المشروع (تأكد إنها موجودة في المسارات) -->
  <script defer src="js/watermark.js"></script>
  <script defer src="js/script.js"></script>
  <script defer src="js/pdf_to_image.js"></script>
  <script defer src="js/split_pdf.js"></script>

  <!-- إعلانات أدسنس (ضع شفرة أدسنس الفعلية عند النشر) -->
  <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXX" crossorigin="anonymous"></script> -->

</body>
</html>
cat << 'EOF' >> index.html
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.getRegistrations().then(function(regs) {
    for(let reg of regs) { reg.unregister(); }
    caches.keys().then(function(names) { for(let name of names) caches.delete(name); });
    location.reload(true);
  });
}
</script>
EOF
